# Discord AI Trivia Bot

This file was generated by GPT-4o-mini

A Discord bot that interacts with users through trivia questions generated by OpenAI's GPT model. The bot sends a greeting message along with a trivia question to new members joining a specified server. It also verifies answers from users and responds with feedback.

## Deployment

Updates using GitHub action, when pushing to main branch.

## Instructions for Running the Docker Container

1. **Build the Docker Image**:

   ```bash
   sudo docker build -t discord-ai-trivia-bot .
   ```

2. **Run the Docker Container**:

   ```bash
   sudo docker run -d --rm --name trivia-bot --env-file .env discord-ai-trivia-bot
   ```

3. **Check the logs**

    ```bash
    sudo docker logs trivia-bot
    ```

## Installation

1. Clone the repository:

   ```bash
   git clone <your-repository-url>
   cd <repository-directory>
   ```

2. Create a virtual environment and activate it:

   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows use `venv\Scripts\activate`
   ```

3. Install the required packages:

   ```bash
   pip install -r requirements.txt
   ```

4. Create a `.env` file in the root directory of your project and add the following variables:

   ```plaintext
   DISCORD_BOT_TOKEN=<your_discord_bot_token>
   OPENAI_API_KEY=<your_openai_api_key>
   DISCORD_TEST_GUILD_ID=<your_test_guild_id>
   DISCORD_WEBHOOK_URL=<your_discord_webhook_url>  # This is not used. Unsure why it's here...
   ```

## Running the Bot

To start the bot, execute:

```bash
python main.py
```

### Testing

You can run tests to simulate user interactions by using the provided test scripts:

- `test_add_user.py`: Tests the member join event.
- `test_send_message.py`: Tests sending a message to a specific channel.

Ensure your bot has the necessary permissions and is added to the server where you want to test.

